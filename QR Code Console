using System;
using System.Drawing;
using System.Windows.Forms;
using QRCoder;

namespace WIP_Sticker
{
    public partial class Form5 : Form
    {
        public Form5()
        {
            InitializeComponent();
        }

        private void Form5_Load(object sender, EventArgs e)
        {
            GenerateQRCode();
        }

        private void GenerateQRCode()
        {
            string data = $"Customer Name: {lblCustName.Text}\n" +
                            $"Product Description: {label3.Text}\n" +
                            $"Batch Number: {label5.Text}\n" +
                            $"Thickness: {label8.Text}\n" +
                            $"Width: {label13.Text}\n" +
                            $"Weight: {label11.Text}\n" +
                            $"Date/Shift: {label17.Text}";

            QRCodeGenerator qrGenerator = new QRCodeGenerator();
            QRCodeData qrCodeData = qrGenerator.CreateQrCode(data, QRCodeGenerator.ECCLevel.Q);
            QRCode qrCode = new QRCode(qrCodeData);
            Bitmap qrCodeImage = qrCode.GetGraphic(20);

            PictureBox pictureBox = new PictureBox();
            pictureBox.Image = qrCodeImage;
            pictureBox.Location = new Point(451, 4);
            pictureBox.Name = "pictureBox3";
            pictureBox.Size = new Size(197, 115);
            pictureBox.SizeMode = PictureBoxSizeMode.StretchImage;
            tableLayoutPanel3.Controls.Add(pictureBox);
        }
    }
}